<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="BLUSH Flower — Luxury & minimal floral studio in Shiraz. Same‑day delivery, fresh flowers, elegant packaging. Blush Flower Studio & Blush Flower Boutique.">
    <link rel="canonical" href="https://blush-flower.com/">
    <title>BLUSH — Luxurious Floral Experience</title>
    <link rel="preload" as="image" href="hero.webp" fetchpriority="high" />
    <link rel="preload" as="video" href="./IMG_1600_high_quality.mov" type="video/quicktime" fetchpriority="high">
    <meta name="theme-color" content="#f7e8eb">
    <meta property="og:title" content="BLUSH — Luxurious Floral Experience">
    <meta property="og:description" content="Minimal & luxurious daily floral arrangements • Everlasting collections">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://blush-flower.com/">
    <meta property="og:image" content="https://blush-flower.com/hero.webp">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="BLUSH — Luxurious Floral Experience">
    <meta name="twitter:description" content="Minimal & luxurious daily floral arrangements • Everlasting collections">
    <meta name="twitter:image" content="https://blush-flower.com/hero.webp">
    <meta name="keywords" content="Blush, Blush Flower, Blush Flower Studio, Blush Flowershop, Blush Flower Boutique, Blush Shiraz, استودیو گل بلاش, گل بلاش, گلفروشی بلاش, گل فروشی بلاش, بوتیک گل بلاش, خرید گل, سفارش آنلاین گل, دسته گل, باکس گل, گل رز, گل لاکچری, خرید اینترنتی گل, گل‌آرایی, گل طبیعی, گل تازه, ارسال گل, هدیه خاص, هدیه رمانتیک, گل برای تولد, گل برای سالگرد, سورپرایز با گل, گل‌فروشی Blush شیراز, خرید گل در شیراز, سفارش آنلاین گل شیراز, گل‌فروشی آنلاین شیراز, ارسال گل در شیراز, دسته گل شیراز, باکس گل شیراز, خرید اینترنتی گل شیراز, بهترین گل‌فروشی شیراز, گل رز شیراز, سفارش دسته گل شیراز, ارسال فوری گل شیراز, گل‌آرایی در شیراز">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Reset and Base Styles */
        *,*::before,*::after{box-sizing:border-box}
        html,body{height:100%}

        body {
            font-family: ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
            background: #faf6f5;
            color: #fff;
            overflow-x: hidden;
            margin: 0;
        }

        .hero-section {
            position: relative;
            min-height: 100vh;
            display: grid;
            place-items: center;
            padding: 20px;
        }

        .hero-container {
            position: relative;
            width: min(92vw, 420px);
            aspect-ratio: 9/16;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,.15);
            background: #e7c7c7;
        }

        .video-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
            filter: blur(0.5px) brightness(1.15) contrast(1.1) saturate(1.15);
            transform: scale(1.005);
        }

        .video-foreground {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 85%;
            height: 85%;
            object-fit: cover;
            z-index: 2;
            border-radius: 16px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            filter: brightness(1.1) contrast(1.1) saturate(1.15);
        }

        /* Elegant overlay effects */
        .hero-container::after {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(80% 60% at 50% 10%, rgba(255,255,255,.35), transparent 60%),
                       linear-gradient(to bottom, rgba(255,216,230,.18), rgba(255,255,255,0));
            backdrop-filter: blur(0px);
            z-index: 3;
            pointer-events: none;
        }

        .bloom-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(50% 50% at 50% 50%, rgba(246,214,229,0.3), transparent 70%);
            filter: blur(6px);
            opacity: 0.25;
            z-index: 4;
            pointer-events: none;
        }

        .video-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 110%;
            height: 110%;
            background: radial-gradient(ellipse at center, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.05) 30%, transparent 70%);
            filter: blur(30px);
            z-index: 1;
            pointer-events: none;
            animation: pulseGlow 4s ease-in-out infinite alternate;
        }

        @keyframes pulseGlow {
            0% { 
                opacity: 0.4;
                transform: translate(-50%, -50%) scale(1);
            }
            100% { 
                opacity: 0.7;
                transform: translate(-50%, -50%) scale(1.02);
            }
        }

        .content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            gap: 18px;
            padding: 20px 28px calc(28px + 1cm) 28px;
            z-index: 30;
        }
        /* Mini actions: Call + Instagram */
        .mini-actions{ display:flex; gap:8px; }
        .mini-actions .mini-btn{
            appearance:none; border:0; padding:8px 12px; border-radius:999px;
            font-size:12px; font-weight:600; letter-spacing:.02em; cursor:pointer;
            background:color-mix(in srgb, var(--white) 86%, transparent);
            color:var(--ink); text-decoration:none; backdrop-filter:blur(6px);
            box-shadow:0 4px 12px rgba(0,0,0,.14);
        }
        .mini-actions .mini-btn:focus-visible{ outline:2px solid var(--gold-500); outline-offset:2px }
        /* Call: white → green → gold */
        .mini-actions .mini-btn.call{
            background:linear-gradient(90deg, #ffffff 0%, #2ecc71 55%, var(--gold-400) 100%);
            color:#1e1e1e; border:1px solid color-mix(in srgb, var(--gold-400) 55%, transparent);
        }
        /* Instagram: brand gradient */
        .mini-actions .mini-btn.ig{
            background:linear-gradient(45deg, #f58529, #dd2a7b 40%, #8134af 70%, #515bd4);
            color:#ffffff;
        }

        .logo {
            position: absolute;
            left: calc(50% - 2cm);
            top: calc(50% + 1cm);
            transform: translate(-50%, -50%);
            z-index: 20;
            width: 140px;
            height: auto;
            opacity: 0.65;
            mix-blend-mode: soft-light;
            filter: saturate(0.8) brightness(1.05);
            transition: opacity .4s ease, transform .4s ease;
            pointer-events: none;
        }

        /* Responsive logo positioning */
        @media (min-width: 769px) {
            .hero-container {
                width: min(520px, 50vw);
            }
            .logo {
                width: 180px;
            }
        }

        @media (max-width: 768px) {
            .logo {
                width: 120px;
                top: calc(50% - 1cm);
            }
        }

        h1 {
            margin: 0;
            padding: 0 18px;
            font-family: 'Playfair Display', 'Times New Roman', serif;
            font-size: clamp(1rem, 2.2vw, 1.4rem);
            font-weight: 600;
            letter-spacing: .06em;
            text-shadow: 0 2px 8px rgba(0,0,0,.25);
            color: #FFFFFF;
            line-height: 1.2;
            text-transform: uppercase;
            font-style: italic;
        }

        .subtitle {
            font-size: 11px;
            opacity: .9;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
            line-height: 1.3;
            font-weight: 300;
            padding: 0 20px;
        }

        .cta {
            display: flex;
            gap: 12px;
            width: 100%;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            appearance: none;
            border: 0;
            padding: 10px 16px;
            border-radius: 999px;
            font-weight: 600;
            background: linear-gradient(90deg, #f4d03f, #f5b7b1);
            color: #4a3b2f;
            cursor: pointer;
            box-shadow: 0 6px 18px rgba(0,0,0,.18);
            transition: transform .2s ease, opacity .2s ease;
            text-decoration: none;
            letter-spacing: .03em;
            backdrop-filter: blur(6px);
        }

        .btn.secondary {
            background: linear-gradient(90deg, #f0e6e6, #e6d5c3);
            color: #4a3b2f;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        /* Responsive adjustments */
        @media (max-width: 380px) {
            .logo { font-size: 48px; }
            h1 { font-size: 14px; }
            .subtitle { font-size: 10px; }
        }

        @media (max-width: 768px) {
            .cta {
                flex-direction: column;
                align-items: center;
            }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            .btn { transition: none; }
            .video-glow { animation: none; }
        }

        /* Fade-in animations */
        .fade-in {
            opacity: 0;
            transform: translateY(8px);
            transition: opacity .6s ease, transform .6s ease;
        }

        /* Top-aligned overlay for hero text */
        .text-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 28%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            gap: 6px;
            z-index: 40; /* above logo */
            padding: 18px 24px;
            text-align: center;
            pointer-events: none;
        }
        @media (min-width: 769px) {
            .text-overlay { height: 24%; }
        }

        .visible {
            opacity: 1 !important;
            transform: none !important;
        }

        /* Ensure content is visible by default if JS fails */
        .fade-in:not(.visible) {
            opacity: 0.8;
        }

        /* Mobile: make hero truly full-frame, no margins, keep effects */
        @media (max-width: 768px) {
            .hero-section {
                padding: 0;
                height: 100vh;      /* fallback */
                height: 100dvh;     /* modern dynamic viewport */
                height: 100svh;     /* small viewport on iOS */
                min-height: 0;
            }
            .hero-container {
                width: 100vw;
                height: 100vh;      /* fallback */
                height: 100dvh;     /* modern dynamic viewport */
                height: 100svh;     /* small viewport on iOS */
                aspect-ratio: auto;
                border-radius: 0;
                box-shadow: none;
            }
            .video-background {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
            .video-foreground {
                width: 85%;
                height: 85%;
                border-radius: 16px;
                object-fit: cover; /* keep the mirror-style crop inside the frame */
            }
        }

        /* === BLUSH theme tokens (pink / white / gold) === */
        :root{
            --white:#ffffff;
            --ink:#4a3b2f;          /* dark text for legibility over light gradients */
            --gold-400:#f4d03f;     /* primary gold */
            --gold-500:#e0b51a;     /* focus/hover ring */
            --blush-400:#f5b7b1;    /* soft pink */
            --blush-500:#ee9aa6;    /* deeper pink for hover */
        }

        /* Keep CTA above overlays and give it breathing room on iOS */
        #hero .cta{
            position:relative; z-index:20;
            margin-bottom: max(10px, calc(env(safe-area-inset-bottom) + 6px));
        }

        /* PRIMARY: gold → pink gradient, readable dark text */
        #hero .cta .btn:not(.secondary){
            color:var(--ink);
            background:linear-gradient(90deg, var(--gold-400), var(--blush-400));
            box-shadow:
                0 0 0 1px rgba(255,255,255,.25) inset,
                0 6px 18px rgba(0,0,0,.18);
        }
        #hero .cta .btn:not(.secondary):hover{
            background:linear-gradient(90deg, var(--gold-400), var(--blush-500));
        }
        #hero .cta .btn:not(.secondary):active{
            box-shadow:0 4px 12px rgba(0,0,0,.16);
        }

        /* SECONDARY: frosted white with subtle gold border */
        #hero .cta .btn.secondary{
            background:color-mix(in srgb, var(--white) 88%, transparent);
            color:var(--ink);
            border:1px solid color-mix(in srgb, var(--gold-400) 85%, transparent);
            backdrop-filter: blur(6px);
            box-shadow:0 6px 16px rgba(0,0,0,.14);
        }
        #hero .cta .btn.secondary:hover{
            background:var(--white);
        }

        /* Shared focus ring + tap target polish */
        #hero .cta .btn{ min-height:44px; padding:12px 18px; border-radius:999px; font-weight:600; }
        #hero .cta .btn:focus-visible{ outline:2px solid var(--gold-500); outline-offset:2px }

        /* Optional soft shimmer on hover (no layout shift) */
        #hero .cta .btn{ position:relative; overflow:hidden; }
        @media (hover:hover){
            #hero .cta .btn::before{
                content:""; position:absolute; inset:-1px; border-radius:inherit; pointer-events:none;
                background:linear-gradient(115deg, rgba(255,255,255,0) 40%,
                                                 rgba(255,255,255,.35) 50%,
                                                 rgba(255,255,255,0) 60%);
                transform:translateX(-120%); transition:transform .6s ease;
            }
            #hero .cta .btn:hover::before{ transform:translateX(120%) }
        }

        /* Respect reduced motion */
        @media (prefers-reduced-motion:reduce){
            #hero .cta .btn{ transition:none }
            #hero .cta .btn::before{ display:none }
        }

        /* Mobile: keep CTAs side-by-side with equal widths & heights */
        @media (max-width: 768px) {
            #hero .cta { flex-direction: row; flex-wrap: nowrap; align-items: stretch; }
            #hero .cta .btn {
                flex: 1 1 0; 
                min-width: 0; 
                display: inline-flex; 
                align-items: center; 
                justify-content: center; 
                text-align: center; 
                white-space: nowrap; /* avoid wrapping to two lines */
            }
        }
        @media (max-width: 420px) {
            #hero .cta .btn { padding: 10px 12px; font-size: 13.5px; }
        }

        /* top scrim to improve legibility of headings over video */
        #hero::before{
            content:""; position:absolute; inset:0 0 55% 0; pointer-events:none;
            background:linear-gradient(to bottom, rgba(0,0,0,.28), rgba(0,0,0,0));
            z-index: 5;
        }

        /* subtle text sharpening (no visible stroke) */
        #hero h1, #hero .sub{
            text-shadow: 0 2px 10px rgba(0,0,0,.35), 0 0 1px rgba(255,255,255,.25);
        }

        @keyframes pulse-once{
            0%{ transform:translateY(0) scale(1); box-shadow:0 6px 18px rgba(0,0,0,.18) }
            50%{ transform:translateY(-2px) scale(1.03); box-shadow:0 12px 26px rgba(0,0,0,.2) }
            100%{ transform:translateY(0) scale(1); box-shadow:0 6px 18px rgba(0,0,0,.18) }
        }
        #hero .cta .btn.pulse-once{ animation: pulse-once 1.2s ease-out 2.2s 1 both }
        @media (prefers-reduced-motion:reduce){
            #hero .cta .btn.pulse-once{ animation:none }
        }

        /* allow tiny perspective tilt */
        #hero{ transform-style: preserve-3d; }

        .scroll-cue{
            position:absolute; left:50%; bottom:66px; transform:translateX(-50%);
            padding:8px 10px; border-radius:999px; font-size:12px; letter-spacing:.08em;
            background:rgba(255,255,255,.75); color:#333; text-decoration:none;
            backdrop-filter: blur(6px); box-shadow:0 6px 14px rgba(0,0,0,.12);
            z-index: 25;
        }
        @keyframes bob{0%,100%{transform:translate(-50%,0)}50%{transform:translate(-50%,-6px)}}
        @media (hover:hover){ .scroll-cue{ animation:bob 1.8s ease-in-out infinite } }

        /* slight vignette to keep eyes in center, very subtle */
        #hero::after{
            content:""; position:absolute; inset:0; pointer-events:none; z-index:6;
            background:radial-gradient(100% 120% at 50% 40%, rgba(0,0,0,0) 60%, rgba(0,0,0,.15) 100%);
        }

        /* Move scroll cue to the right on mobile so it doesn't overlap CTAs */
        @media (max-width: 768px){
            #hero .scroll-cue{ left:auto; right:16px; transform:none; bottom: calc(env(safe-area-inset-bottom) + 96px); }
        }
        @media (min-width: 769px){
            #hero .scroll-cue{ left:auto; right:24px; transform:none; bottom: 80px; }
        }

        /* Daily Vitrin (Collections) */
        #collections{ background:#ffffff; color:#2b2b2b; padding:56px 20px; }
        #collections .v-head{ text-align:center; margin:0 auto 22px; max-width:720px; }
        #collections h2{ margin:0 0 6px; font-family:'Playfair Display', 'Times New Roman', serif; font-weight:600; letter-spacing:.04em; color:#2b2b2b; }
        #collections .v-sub{ margin:0; opacity:.7; font-size:14px; }
        .v-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:12px; max-width:1024px; margin:0 auto; }
        @media (min-width: 769px){ .v-grid{ grid-template-columns:repeat(4,1fr); gap:14px; } }
        .v-item{ position:relative; display:block; aspect-ratio:3/4; border-radius:18px; overflow:hidden; background:#eee; box-shadow:0 10px 24px rgba(0,0,0,.08); }
        .v-item img{ width:100%; height:100%; object-fit:cover; display:block; filter:saturate(1.05) contrast(1.02); }
        .v-item::after{ content:""; position:absolute; inset:0; pointer-events:none; background:linear-gradient(to top, rgba(0,0,0,.22), rgba(0,0,0,0) 40%); }
        .v-cap{ position:absolute; left:12px; right:12px; bottom:10px; color:#fff; font-size:12px; letter-spacing:.02em; text-shadow:0 2px 10px rgba(0,0,0,.35); display:flex; justify-content:space-between; align-items:center; }
        .v-price{ background:rgba(255,255,255,.85); color:#333; border-radius:999px; padding:4px 8px; font-weight:600; box-shadow:0 4px 10px rgba(0,0,0,.12); }

        /* Daily Vitrin tweaks: remove captions/prices, make heading gold and attractive */
        #collections .v-cap{ display:none !important; }
        #collections h2{
            color: transparent;
            background: linear-gradient(90deg, var(--gold-400), #ffd86b, var(--gold-400));
            -webkit-background-clip: text; background-clip: text;
            text-shadow: 0 3px 14px rgba(244,208,63,.35), 0 1px 0 rgba(255,255,255,.2);
            letter-spacing: .06em;
            font-size: clamp(1.4rem, 3.6vw, 2rem);
        }

        /* --- Loading beauty kit (tiny & incremental) --- */
        #hero{ position:relative; overflow:hidden; transform-style:preserve-3d }

        /* LQIP image (injected via JS) */
        #hero .lqip{
            position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
            filter: blur(12px) saturate(1.05) brightness(.98); transform:scale(1.02);
            opacity:1; transition: filter .2s ease, opacity .15s ease, transform .2s ease;
            z-index: 3; pointer-events:none;
        }

        /* Foreground video soft fade (uses your existing <video>) */
        #hero video{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
            opacity:0; transition: opacity .2s ease; z-index:4 }

        /* Shimmer skeleton while hero is loading */
        #hero .skeleton{
            position:absolute; inset:0; z-index:5; pointer-events:none;
            background: linear-gradient(90deg, rgba(255,255,255,0) 20%,
                                             rgba(255,255,255,.25) 40%,
                                             rgba(255,255,255,0) 60%);
            transform: translateX(-120%);
            animation: shimmer 1.6s ease-in-out infinite;
        }
        @keyframes shimmer{ to{ transform: translateX(120%) } }

        /* Top scrim to sharpen headings over media */
        #hero::before{
            content:""; position:absolute; inset:0 0 55% 0; z-index:2; pointer-events:none;
            background: linear-gradient(to bottom, rgba(0,0,0,.28), rgba(0,0,0,0));
        }

        /* When ready: fade in media, fade out lqip & skeleton */
        #hero.ready .lqip{ filter:blur(0); transform:none; opacity:0 }
        #hero.ready video{ opacity:1 }
        #hero.ready .skeleton{ display:none }
        
        /* Prevent quality flicker during video loading */
        #hero video {
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
        }
        
        #hero video.loaded {
            opacity: 1;
        }
        
        /* Show loading state initially */
        #hero:not(.ready) .skeleton {
            display: block;
        }
        
        /* Loading indicator */
        #hero .loading-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 6;
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            font-weight: 300;
            letter-spacing: 0.1em;
            text-shadow: 0 2px 8px rgba(0,0,0,0.3);
            opacity: 1;
            transition: opacity 0.5s ease;
        }
        
        #hero.ready .loading-indicator {
            opacity: 0;
        }

        /* Respect reduced motion */
        @media (prefers-reduced-motion:reduce){
            #hero .lqip, #hero video{ transition:none }
            #hero .skeleton{ display:none }
        }

        /* Below-the-fold performance (no layout shift) */
        #collections{ content-visibility:auto; contain-intrinsic-size: 800px 1200px }

        /* Preserve foreground video framing (override generic video rule) */
        #hero .video-background{
            position:absolute; top:0; left:0; width:100%; height:100%;
            object-fit:cover; z-index:1;
            filter: blur(1.5px) brightness(.9) saturate(1.05);
        }
        #hero .video-foreground{
            position:absolute; top:50%; left:50%; transform:translate(-50%, -50%);
            width:85%; height:85%; object-fit:cover; border-radius:16px; z-index:2;
            filter: none; /* keep foreground sharp */
        }
        @media (max-width: 768px){
            #hero .video-foreground{ width:85%; height:85%; border-radius:16px; }
        }
        
        /* Icon-only CTA (second row) */
        .icon-row{ margin-top:0 !important; gap:clamp(10px,3vw,16px) !important; }
        .icon-cta{ display:inline-flex; align-items:center; justify-content:center; padding:0; margin:0; background:transparent; border:0; box-shadow:none; border-radius:0; }
        .icon-cta svg{ width:clamp(24px,3.8vw,32px); height:clamp(24px,3.8vw,32px); color:var(--gold-400); opacity:1; filter:drop-shadow(0 0 6px rgba(255,255,255,.3)); transition: transform .25s ease, filter .25s ease, color .25s ease, opacity .25s ease; }
        @media (min-width: 769px){ .icon-cta svg{ width:clamp(26px,2.6vw,36px); height:clamp(26px,2.6vw,36px); } }
        .icon-cta:hover svg{ color:var(--gold-400); opacity:1; filter:drop-shadow(0 0 12px rgba(255,255,255,.55)) brightness(1.08) saturate(1.05); transform:scale(1.05); animation: flash-burst .5s ease-out 1; }
        @keyframes flash-burst{
            0%{ filter:brightness(.96) drop-shadow(0 0 0 rgba(255,255,255,0)); }
            40%{ filter:brightness(1.15) drop-shadow(0 0 12px rgba(255,255,255,.6)); }
            100%{ filter:brightness(1.0) drop-shadow(0 0 6px rgba(255,255,255,.35)); }
        }

        /* === 4-step guide: luxury minimal === */
        .guide-text-box{
            width:100%; max-width:340px; margin:0 auto 28px;
            padding:14px 18px; text-align:center;
            background:rgba(255,255,255,.08); backdrop-filter:blur(8px);
            border:1px solid rgba(244,208,63,.35); border-radius:16px;
            box-shadow:0 0 0 1px rgba(244,208,63,.15) inset, 0 4px 16px rgba(0,0,0,.12);
            min-height:62px; display:flex; align-items:center; justify-content:center;
        }
        .guide-step-text{
            display:none; opacity:0; transition:opacity .25s ease;
            font-size:13.5px; line-height:1.5; color:#fff;
            text-shadow:0 2px 6px rgba(0,0,0,.35); font-weight:500;
            letter-spacing:.01em;
        }
        .guide-step-text.active{ display:block; opacity:1; animation:fadeInFast .3s ease; }
        @keyframes fadeInFast{
            from{ opacity:0; transform:translateY(4px); }
            to{ opacity:1; transform:translateY(0); }
        }
        @media (min-width: 769px){
            .guide-step-text{ font-size:14.5px; }
        }
        
        /* CTA row at bottom */
        .guide-cta-row{
            display:flex; gap:8px; width:100%; max-width:400px; margin:0 auto 12px;
            justify-content:center; align-items:center; flex-wrap:wrap;
        }
        .guide-cta{
            position:relative; flex:1; min-width:60px; max-width:70px;
            display:inline-flex; align-items:center; justify-content:center;
            padding:12px; border-radius:50%;
            text-decoration:none; transition:all .2s ease;
            box-shadow:0 4px 12px rgba(0,0,0,.15);
            opacity:.4; transform:scale(.88); filter:saturate(.7);
        }
        .guide-cta.active{
            opacity:1; transform:scale(1); filter:saturate(1);
            box-shadow:0 6px 18px rgba(0,0,0,.25);
            animation:ctaPulse .3s ease;
        }
        @keyframes ctaPulse{
            0%{ transform:scale(.92); }
            50%{ transform:scale(1.05); }
            100%{ transform:scale(1); }
        }
        .guide-cta svg{ margin:0; }
        .guide-cta.whatsapp{
            background:linear-gradient(135deg, #25d366, #128c7e);
            color:#fff;
        }
        .guide-cta.website{
            background:rgba(255,255,255,.92); color:#2b2b2b;
            border:1px solid rgba(244,208,63,.3);
        }
        .guide-cta.instagram{
            background:linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045);
            color:#fff;
        }
        .guide-cta.phone{
            background:linear-gradient(135deg, #f4d03f, #f5b7b1);
            color:#2b2b2b;
        }
        .guide-cta:hover{ transform:scale(.95) translateY(-1px); opacity:.6; }
        .guide-cta.active:hover{ transform:scale(1.03) translateY(-2px); opacity:1; }
        
        /* Arrow indicator (horizontal flow) */
        .guide-cta-row::after{
            content:'→'; position:absolute; left:0; bottom:-22px;
            font-size:14px; color:rgba(255,255,255,.7);
            text-shadow:0 2px 4px rgba(0,0,0,.3);
            transition:left .3s ease; pointer-events:none;
        }
        .guide-cta:nth-child(1).active ~ .guide-cta-row::after{ left:12%; }
        .guide-cta:nth-child(2).active ~ .guide-cta-row::after{ left:37%; }
        .guide-cta:nth-child(3).active ~ .guide-cta-row::after{ left:62%; }
        .guide-cta:nth-child(4).active ~ .guide-cta-row::after{ left:87%; }
        
        .guide-dots{
            display:flex; gap:6px; justify-content:center; margin-top:8px;
        }
        .guide-dot{
            width:6px; height:6px; border-radius:50%;
            background:rgba(255,255,255,.3); cursor:pointer;
            transition:all .25s ease;
        }
        .guide-dot.active{ width:18px; border-radius:3px; background:rgba(255,255,255,.85); }
        @media (max-width: 768px){
            .guide-text-box{ max-width:90%; padding:10px 14px; min-height:54px; }
            .guide-step-text{ font-size:12px; }
            .guide-cta{ padding:10px; min-width:52px; max-width:60px; }
        }
    </style>
</head>
<body>
    <main class="hero-section">
        <section class="hero-container" id="hero">
        <!-- Logo -->
            <img src="./logo.svg" alt="BLUSH logo" class="logo fade-in">
        
        <!-- Background Video (Blurred) -->
        <video class="video-background" autoplay muted loop playsinline preload="metadata" poster="hero.webp">
                <source src="./Hero%20Smaller.mp4" type="video/mp4" media="(max-width: 768px)">
                <source src="./IMG_1600_high_quality.mov" type="video/quicktime">
                <source src="./IMG_1600 (2).mp4" type="video/mp4">
        </video>
        
        <!-- Foreground Video (Original) -->
            <video class="video-foreground" autoplay muted loop playsinline preload="metadata" fetchpriority="high" poster="hero.webp">
                <source src="./Hero%20Smaller.mp4" type="video/mp4" media="(max-width: 768px)">
                <source src="./IMG_1600_high_quality.mov" type="video/quicktime">
                <source src="./IMG_1600 (2).mp4" type="video/mp4">
        </video>
        
        <!-- Bloom Effect -->
        <div class="bloom-overlay"></div>
        
        <!-- Video Glow Effect -->
        <div class="video-glow"></div>
        
        <!-- Loading Indicator -->
        <div class="loading-indicator">Loading...</div>
        
            <!-- Centered Text Overlay -->
            <div class="text-overlay fade-in">
                <h1>BLUSH — A LUXURIOUS FLORAL EXPERIENCE</h1>
                <div class="subtitle">Minimal & luxurious daily arrangements • Everlasting collections</div>
            </div>

            <!-- Content (Guide + CTAs at bottom) -->
            <div class="content">
                <div class="fade-in w-full">
                    <!-- Guide text box -->
                    <div class="guide-text-box">
                        <p class="guide-step-text active" data-text="1">برای سفارش محصول شخصی‌سازی‌شده از طریق واتس‌اپ با ما در ارتباط باشید</p>
                        <p class="guide-step-text" data-text="2">برای خرید سریع از محصولات آماده روزانه به وب‌سایت بلاش مراجعه کنید</p>
                        <p class="guide-step-text" data-text="3">برای دیدن نمونه‌کارهای منحصربه‌فرد بلاش به اینستاگرام ما سر بزنید</p>
                        <p class="guide-step-text" data-text="4">برای سفارش یا مشاوره فوری می‌توانید تلفنی با ما تماس بگیرید</p>
                    </div>
                    
                    <!-- CTA row with all 4 buttons -->
                    <div class="guide-cta-row">
                        <a href="https://wa.me/989357060067" class="guide-cta whatsapp active" data-cta="1" aria-label="واتس‌اپ">
                            <svg viewBox="0 0 24 24" fill="currentColor" style="margin:0;width:22px;height:22px;"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                        </a>
                        <a href="https://blush-flower.com/" target="_blank" rel="noopener" class="guide-cta website" data-cta="2" aria-label="وب‌سایت">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="margin:0;width:24px;height:24px;"><path d="M21 8v13H3V8"/><path d="M23 3H1v5h22V3z"/><path d="M10 12h4"/><circle cx="8" cy="12" r="1.5" fill="currentColor"/><circle cx="16" cy="12" r="1.5" fill="currentColor"/><circle cx="12" cy="16" r="1.5" fill="currentColor"/><path d="M7 3v5M12 3v5M17 3v5"/></svg>
                        </a>
                        <a href="https://www.instagram.com/blush_flower" target="_blank" rel="noopener" class="guide-cta instagram" data-cta="3" aria-label="اینستاگرام">
                            <svg viewBox="0 0 24 24" fill="currentColor" style="margin:0;width:22px;height:22px;"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                        </a>
                        <a href="tel:+989177800806" class="guide-cta phone" data-cta="4" aria-label="تماس">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin:0;width:20px;height:20px;"><path d="M22 16.9v3a2 2 0 0 1-2.2 2 19.8 19.8 0 0 1-8.6-3.1 19.5 19.5 0 0 1-6-6A19.8 19.8 0 0 1 2.1 4.2 2 2 0 0 1 4.1 2h3a2 2 0 0 1 2 1.7c.1.9.3 1.8.6 2.6a2 2 0 0 1-.4 2.1L8.1 9.9a16 16 0 0 0 6 6l1.5-1.2a2 2 0 0 1 2.1-.4c.8.3 1.7.5 2.6.6A2 2 0 0 1 22 16.9z"/></svg>
                        </a>
                    </div>
                    
                    <!-- Navigation dots -->
                    <div class="guide-dots">
                        <span class="guide-dot active" data-dot="1"></span>
                        <span class="guide-dot" data-dot="2"></span>
                        <span class="guide-dot" data-dot="3"></span>
                        <span class="guide-dot" data-dot="4"></span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Daily Vitrin / Collections -->
    <section id="collections">
        <div class="v-head">
            <h2>Blush's Vitrine</h2>
            <p class="v-sub">منتخب از گل‌آرایی‌های مینیمال و لوکس</p>
        </div>
        <div class="v-grid">
            <!-- JPG first to avoid repeated webp placeholders -->
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/181237f0-8af8-4b07-8f01-b4b9a654853a.webp" alt="دسته گل لوکس صورتی و سفید">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/1f3c7c5c-2bb3-4c2a-b9fe-64b5208ac096.webp" alt="آرایش گل شیک در گلدان شیشه‌ای">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/22af0585-18a9-4607-823c-13cf84260b7b.webp" alt="دسته گل رنگارنگ بهاری">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/24e85faf-8883-4917-8f74-df33a7302c26.webp" alt="باکت گل لوکس با روبان طلایی">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/312aa08c-9127-40bf-b096-e1c79bc3df52.webp" alt="آرایش ارکیده سفید شیک">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/31359c30-d7c8-4678-a046-7c1e9502cd24.webp" alt="دسته گل رمانتیک صورتی">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/39094b4a-123c-4299-802b-1981672b488b.webp" alt="گل‌آرایی در گلدان سفید کلاسیک">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/444bfb73-526e-48ef-851a-946f7527d350.webp" alt="دسته گل آفتابگردان شاد">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/4eb2f329-0dfa-45d1-a1a5-e6a6ddcc7694.webp" alt="باکت گل رنگارنگ در جعبه آبی">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/70b41351-8d78-4e8e-a239-48813464bedd.webp" alt="آرایش گل طلایی لوکس">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/79e11b70-f17c-4193-b79a-ad464b12f37d.webp" alt="دسته گل بنفش رمانتیک">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/87a6c354-df4b-41e7-a59f-ade8eecb3e47.webp" alt="گل‌آرایی در سبد حصیری">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/90c837c8-4b7b-4999-8b0a-af6d7b0f0a07.webp" alt="دسته گل سفید و سبز">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/9f2f5ae6-d71f-48e6-9f50-ab0f76b4c544.webp" alt="باکت گل لوکس با روبان صورتی">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/b352b285-9195-43b3-b05c-0f84e219e6c1.webp" alt="آرایش گل در ویترین شیشه‌ای">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/bc3d6d2b-b4f1-445b-9a69-c9d1b06ed7f8.webp" alt="دسته گل رنگارنگ در گلدان مدرن">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/e04021ff-a1e7-49d0-be94-932c2a7aeffa.webp" alt="گل‌آرایی در گلدان سرامیکی">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/e085a5d7-6de9-4617-a8e0-6f9b433d17ee.webp" alt="دسته گل زرد و نارنجی">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/e2943b2f-35ed-4ef8-ab90-5b723ba85529.webp" alt="آرایش گل خشک ماندگار">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/e7ca7a1e-9aab-4a2d-a4e5-6b776a720c35.webp" alt="دسته گل صورتی و سفید">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/f1069a82-19c1-4c12-8304-93c20c1e1d98.webp" alt="باکت گل لوکس با تزئینات طلایی">
            </a>

            <!-- webp placeholders temporarily removed to avoid repetition at top -->
        </div>
    </section>

    <script>
        // Smooth fade-in animations with IntersectionObserver
        document.addEventListener('DOMContentLoaded', function() {
            const io = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.fade-in').forEach(element => {
                io.observe(element);
                // Fallback: make visible after 1 second if not triggered
                setTimeout(() => {
                    if (!element.classList.contains('visible')) {
                        element.classList.add('visible');
                    }
                }, 1000);
            });
        });

        // Video loading optimization
        document.addEventListener('DOMContentLoaded', function() {
            const videos = document.querySelectorAll('video');
            videos.forEach((video, index) => {
                // telemetry logs removed for production
            });
        });

        // WhatsApp integration
        function openWhatsApp() {
            const phoneNumber = '989900190067';
            const message = 'Hello! I would like to know more about your floral arrangements';
            const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        }
    </script>

    <!-- Basic LocalBusiness Schema (Florist) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Florist",
      "name": "BLUSH Flower Studio",
      "url": "https://blush-flower.com/",
      "image": "https://blush-flower.com/hero.webp",
      "telephone": "+989177800806",
      "openingHours": "Mo-Su 10:00-22:00",
      "department": [
        {
          "@type": "Store",
          "name": "Blush Flower Studio",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "Sattarkhan Blvd, Valiaasr St, Corner of 26th Alley",
            "addressLocality": "Shiraz",
            "addressCountry": "IR"
          }
        },
        {
          "@type": "Store",
          "name": "Blush Flower Boutique",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "Moalem Square, Moalem St, Between 5th and 7th Alley",
            "addressLocality": "Shiraz",
            "addressCountry": "IR"
          }
        }
      ]
    }
    </script>

    <script>
    (() => {
      const hero = document.getElementById('hero');
      if (!hero) return;

      // Add a subtle skeleton shimmer
      const sk = document.createElement('div');
      sk.className = 'skeleton';
      hero.appendChild(sk);

      // Inject LQIP blurred image (keeps LCP beautiful & fast)
      const lq = document.createElement('img');
      lq.src = 'hero-lq.webp';
      lq.alt = '';
      lq.decoding = 'async';
      lq.loading = 'eager';          // above-the-fold
      lq.className = 'lqip';
      lq.setAttribute('aria-hidden','true');
      hero.appendChild(lq);

      // Prepare gentle cross-fade to video if available
      const saveData = navigator.connection && navigator.connection.saveData;
      const reduce   = matchMedia('(prefers-reduced-motion: reduce)').matches;
      const vid      = hero.querySelector('video');

      // Preload full hero image, then sharpen & fade LQIP out
      const full = new Image();
      full.src = 'hero.webp';
      full.decoding = 'async';
      full.onload = () => {
        // swap LQIP -> sharp image, then remove it
        lq.src = full.src;
        requestAnimationFrame(() => {
          hero.classList.add('ready');
          setTimeout(() => { lq.remove(); sk.remove(); }, 180);
        });
      };

      // If video exists and user isn't saving data / reducing motion, fade it in when ready
      if (vid && !saveData && !reduce) {
        let videoLoaded = false;
        
        const handleVideoReady = () => {
          if (!videoLoaded) {
            videoLoaded = true;
            vid.classList.add('loaded');
            hero.classList.add('ready');
            setTimeout(() => { 
              try { lq.remove(); sk.remove(); } catch(e){} 
            }, 300);
          }
        };
        
        vid.addEventListener('canplaythrough', handleVideoReady, { once: true });
        vid.addEventListener('loadeddata', handleVideoReady, { once: true });
        
        // Fallback: show video after 2 seconds even if not fully loaded
        setTimeout(() => {
          if (!videoLoaded) {
            handleVideoReady();
          }
        }, 2000);

        // Try to sync background and foreground videos if both exist
        const bg = hero.querySelector('.video-background');
        const fg = hero.querySelector('.video-foreground');
        if (bg && fg) {
          const sync = () => {
            if (Math.abs(bg.currentTime - fg.currentTime) > 0.2) {
              const t = Math.min(bg.duration || fg.duration || 0, Math.max(0, bg.currentTime));
              try { fg.currentTime = t; } catch(e){}
            }
            if (bg.paused && !fg.paused) { try { fg.pause(); } catch(e){} }
            if (!bg.paused && fg.paused) { try { fg.play().catch(()=>{}); } catch(e){} }
          };
          bg.addEventListener('timeupdate', sync);
          fg.addEventListener('timeupdate', sync);
          bg.addEventListener('play', sync);
          fg.addEventListener('play', sync);
        }
      }
    })();
    </script>

    <script>
    // add a one-time pulse to the primary CTA (first .btn that is not .secondary)
    (() => {
        const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (prefersReduced) return;
        const primary = document.querySelector('#hero .cta .btn:not(.secondary)');
        if (primary) primary.classList.add('pulse-once');
    })();

    // micro tilt for desktop pointer, very subtle
    (() => {
        const ok = matchMedia('(pointer:fine)').matches && matchMedia('(prefers-reduced-motion: no-preference)').matches;
        if (!ok) return;
        const el = document.getElementById('hero');
        if (!el) return;
        const max = 6; // degrees
        const onMove = (e) => {
            const r = el.getBoundingClientRect();
            const cx = r.left + r.width/2, cy = r.top + r.height/2;
            const dx = (e.clientX - cx) / (r.width/2);
            const dy = (e.clientY - cy) / (r.height/2);
            el.style.transform = `perspective(900px) rotateX(${(-dy*max).toFixed(2)}deg) rotateY(${(dx*max).toFixed(2)}deg)`;
        };
        const reset = ()=>{ el.style.transform = 'none'; };
        el.addEventListener('mousemove', onMove);
        el.addEventListener('mouseleave', reset);
    })();

    // inject scroll cue link if not already present
    (() => {
        if (document.querySelector('#hero .scroll-cue')) return;
        const cue = document.createElement('a');
        cue.href = '#collections';
        cue.className = 'scroll-cue';
        cue.setAttribute('aria-label','Scroll to collections');
        cue.textContent = 'Scroll ↓';
        const hero = document.getElementById('hero');
        if (hero) hero.appendChild(cue);
    })();

    // gclid/utm propagate to destination links (add as query params)
    (() => {
        const params = new URLSearchParams(location.search);
        const keep = ['gclid','utm_source','utm_medium','utm_campaign','utm_term','utm_content'];
        const qs = keep.filter(k => params.has(k)).map(k => `${k}=${encodeURIComponent(params.get(k)||'')}`).join('&');
        if (!qs) return;
        document.querySelectorAll('a[href*="blush-flower.com"]').forEach(a => {
            const url = new URL(a.href);
            keep.forEach(k => { if (params.has(k)) url.searchParams.set(k, params.get(k)); });
            a.href = url.toString();
        });
    })();

    // 4-step guide controller (luxury minimal)
    (() => {
        const texts = document.querySelectorAll('.guide-step-text');
        const ctas = document.querySelectorAll('.guide-cta');
        const dots = document.querySelectorAll('.guide-dot');
        if (!texts.length || !ctas.length || !dots.length) return;
        
        let currentStep = 1;
        const totalSteps = 4;
        
        function showStep(n) {
            // Update text
            texts.forEach(t => t.classList.remove('active'));
            const targetText = document.querySelector(`[data-text="${n}"]`);
            if (targetText) targetText.classList.add('active');
            
            // Update CTAs
            ctas.forEach(c => c.classList.remove('active'));
            const targetCta = document.querySelector(`[data-cta="${n}"]`);
            if (targetCta) targetCta.classList.add('active');
            
            // Update dots
            dots.forEach(d => d.classList.remove('active'));
            const targetDot = document.querySelector(`[data-dot="${n}"]`);
            if (targetDot) targetDot.classList.add('active');
            
            currentStep = n;
        }
        
        // Auto-advance every 5 seconds
        setInterval(() => {
            const next = currentStep >= totalSteps ? 1 : currentStep + 1;
            showStep(next);
        }, 5000);
        
        // Click dot to navigate
        dots.forEach(dot => {
            dot.addEventListener('click', () => {
                const step = parseInt(dot.dataset.dot);
                if (step) showStep(step);
            });
        });
        
        // Click CTA to lock on that step
        ctas.forEach(cta => {
            cta.addEventListener('mouseenter', () => {
                const step = parseInt(cta.dataset.cta);
                if (step) showStep(step);
            });
        });
    })();

    // Force mobile to use small hero video (and honor Save-Data)
    (() => {
        const isMobile = matchMedia('(max-width: 768px)').matches;
        if (!isMobile) return;
        const conn = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
        const saveData = !!(conn && (conn.saveData || (conn.effectiveType && /2g/i.test(conn.effectiveType))));
        const videos = document.querySelectorAll('#hero video');
        videos.forEach(video => {
            const sources = Array.from(video.querySelectorAll('source'));
            const small = sources.find(s => decodeURIComponent((s.getAttribute('src')||'')).includes('Hero Smaller.mp4'));
            if (!small) return;
            if (saveData) {
                try { video.pause(); } catch(e){}
                video.removeAttribute('autoplay');
                video.removeAttribute('loop');
                return;
            }
            const url = small.getAttribute('src');
            if (url) {
                // cache-bust to avoid stale content on first deploy
                video.src = url + '?v=' + Date.now().toString().slice(-6);
                video.load();
            }
        });
    })();
    </script>
</body>
</html>