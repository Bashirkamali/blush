<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="BLUSH — Luxurious Floral Experience. Minimal & luxurious daily floral arrangements.">
    <link rel="canonical" href="https://example.com/">
    <title>BLUSH — Luxurious Floral Experience</title>
    <link rel="preload" as="image" href="hero.webp" fetchpriority="high" />
    <link rel="preload" as="video" href="./IMG_1600_high_quality.mov" type="video/quicktime" fetchpriority="high">
    <meta name="theme-color" content="#f7e8eb">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <style>
        /* Reset and Base Styles */
        *,*::before,*::after{box-sizing:border-box}
        html,body{height:100%}
        
        body {
            font-family: ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
            background: #faf6f5;
            color: #fff;
            overflow-x: hidden;
            margin: 0;
        }

        .hero-section {
            position: relative;
            min-height: 100vh;
            display: grid;
            place-items: center;
            padding: 20px;
        }

        .hero-container {
            position: relative;
            width: min(92vw, 420px);
            aspect-ratio: 9/16;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,.15);
            background: #e7c7c7;
        }

        .video-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
            filter: blur(0.5px) brightness(1.15) contrast(1.1) saturate(1.15);
            transform: scale(1.005);
        }

        .video-foreground {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 85%;
            height: 85%;
            object-fit: cover;
            z-index: 2;
            border-radius: 16px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            filter: brightness(1.1) contrast(1.1) saturate(1.15);
        }

        /* Elegant overlay effects */
        .hero-container::after {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(80% 60% at 50% 10%, rgba(255,255,255,.35), transparent 60%),
                       linear-gradient(to bottom, rgba(255,216,230,.18), rgba(255,255,255,0));
            backdrop-filter: blur(0px);
            z-index: 3;
            pointer-events: none;
        }

        .bloom-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(50% 50% at 50% 50%, rgba(246,214,229,0.3), transparent 70%);
            filter: blur(6px);
            opacity: 0.25;
            z-index: 4;
            pointer-events: none;
        }

        .video-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 110%;
            height: 110%;
            background: radial-gradient(ellipse at center, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.05) 30%, transparent 70%);
            filter: blur(30px);
            z-index: 1;
            pointer-events: none;
            animation: pulseGlow 4s ease-in-out infinite alternate;
        }

        @keyframes pulseGlow {
            0% { 
                opacity: 0.4;
                transform: translate(-50%, -50%) scale(1);
            }
            100% { 
                opacity: 0.7;
                transform: translate(-50%, -50%) scale(1.02);
            }
        }

        .content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            gap: 18px;
            padding: 20px 28px 28px 28px;
            z-index: 30;
        }

        .logo {
            position: absolute;
            left: calc(50% - 2cm);
            top: calc(50% + 1cm);
            transform: translate(-50%, -50%);
            z-index: 20;
            width: 140px;
            height: auto;
            opacity: 0.65;
            mix-blend-mode: soft-light;
            filter: saturate(0.8) brightness(1.05);
            transition: opacity .4s ease, transform .4s ease;
            pointer-events: none;
        }

        /* Responsive logo positioning */
        @media (min-width: 769px) {
            .hero-container {
                width: min(520px, 50vw);
            }
            .logo {
                width: 180px;
            }
        }

        @media (max-width: 768px) {
            .logo {
                width: 120px;
            }
        }

        h1 {
            margin: 0;
            padding: 0 18px;
            font-family: 'Playfair Display', 'Times New Roman', serif;
            font-size: clamp(1rem, 2.2vw, 1.4rem);
            font-weight: 600;
            letter-spacing: .06em;
            text-shadow: 0 2px 8px rgba(0,0,0,.25);
            color: #FFFFFF;
            line-height: 1.2;
            text-transform: uppercase;
            font-style: italic;
        }

        .subtitle {
            font-size: 11px;
            opacity: .9;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
            line-height: 1.3;
            font-weight: 300;
            padding: 0 20px;
        }

        .cta {
            display: flex;
            gap: 12px;
            width: 100%;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            appearance: none;
            border: 0;
            padding: 10px 16px;
            border-radius: 999px;
            font-weight: 600;
            background: linear-gradient(90deg, #f4d03f, #f5b7b1);
            color: #4a3b2f;
            cursor: pointer;
            box-shadow: 0 6px 18px rgba(0,0,0,.18);
            transition: transform .2s ease, opacity .2s ease;
            text-decoration: none;
            letter-spacing: .03em;
            backdrop-filter: blur(6px);
        }

        .btn.secondary {
            background: linear-gradient(90deg, #f0e6e6, #e6d5c3);
            color: #4a3b2f;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        /* Responsive adjustments */
        @media (max-width: 380px) {
            .logo { font-size: 48px; }
            h1 { font-size: 14px; }
            .subtitle { font-size: 10px; }
        }

        @media (max-width: 768px) {
            .cta {
                flex-direction: column;
                align-items: center;
            }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            .btn { transition: none; }
            .video-glow { animation: none; }
        }

        /* Fade-in animations */
        .fade-in {
            opacity: 0;
            transform: translateY(8px);
            transition: opacity .6s ease, transform .6s ease;
        }

        /* Top-aligned overlay for hero text */
        .text-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 28%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            gap: 6px;
            z-index: 40; /* above logo */
            padding: 18px 24px;
            text-align: center;
            pointer-events: none;
        }
        @media (min-width: 769px) {
            .text-overlay { height: 24%; }
        }

        .visible {
            opacity: 1 !important;
            transform: none !important;
        }

        /* Ensure content is visible by default if JS fails */
        .fade-in:not(.visible) {
            opacity: 0.8;
        }

        /* Mobile: make hero truly full-frame, no margins, keep effects */
        @media (max-width: 768px) {
            .hero-section {
                padding: 0;
                height: 100vh;      /* fallback */
                height: 100dvh;     /* modern dynamic viewport */
                height: 100svh;     /* small viewport on iOS */
                min-height: 0;
            }
            .hero-container {
                width: 100vw;
                height: 100vh;      /* fallback */
                height: 100dvh;     /* modern dynamic viewport */
                height: 100svh;     /* small viewport on iOS */
                aspect-ratio: auto;
                border-radius: 0;
                box-shadow: none;
            }
            .video-background {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
            .video-foreground {
                width: 85%;
                height: 85%;
                border-radius: 16px;
                object-fit: cover; /* keep the mirror-style crop inside the frame */
            }
        }

        /* === BLUSH theme tokens (pink / white / gold) === */
        :root{
            --white:#ffffff;
            --ink:#4a3b2f;          /* dark text for legibility over light gradients */
            --gold-400:#f4d03f;     /* primary gold */
            --gold-500:#e0b51a;     /* focus/hover ring */
            --blush-400:#f5b7b1;    /* soft pink */
            --blush-500:#ee9aa6;    /* deeper pink for hover */
        }

        /* Keep CTA above overlays and give it breathing room on iOS */
        #hero .cta{
            position:relative; z-index:20;
            margin-bottom: max(10px, calc(env(safe-area-inset-bottom) + 6px));
        }

        /* PRIMARY: gold → pink gradient, readable dark text */
        #hero .cta .btn:not(.secondary){
            color:var(--ink);
            background:linear-gradient(90deg, var(--gold-400), var(--blush-400));
            box-shadow:
                0 0 0 1px rgba(255,255,255,.25) inset,
                0 6px 18px rgba(0,0,0,.18);
        }
        #hero .cta .btn:not(.secondary):hover{
            background:linear-gradient(90deg, var(--gold-400), var(--blush-500));
        }
        #hero .cta .btn:not(.secondary):active{
            box-shadow:0 4px 12px rgba(0,0,0,.16);
        }

        /* SECONDARY: frosted white with subtle gold border */
        #hero .cta .btn.secondary{
            background:color-mix(in srgb, var(--white) 88%, transparent);
            color:var(--ink);
            border:1px solid color-mix(in srgb, var(--gold-400) 85%, transparent);
            backdrop-filter: blur(6px);
            box-shadow:0 6px 16px rgba(0,0,0,.14);
        }
        #hero .cta .btn.secondary:hover{
            background:var(--white);
        }

        /* Shared focus ring + tap target polish */
        #hero .cta .btn{ min-height:44px; padding:12px 18px; border-radius:999px; font-weight:600; }
        #hero .cta .btn:focus-visible{ outline:2px solid var(--gold-500); outline-offset:2px }

        /* Optional soft shimmer on hover (no layout shift) */
        #hero .cta .btn{ position:relative; overflow:hidden; }
        @media (hover:hover){
            #hero .cta .btn::before{
                content:""; position:absolute; inset:-1px; border-radius:inherit; pointer-events:none;
                background:linear-gradient(115deg, rgba(255,255,255,0) 40%,
                                                 rgba(255,255,255,.35) 50%,
                                                 rgba(255,255,255,0) 60%);
                transform:translateX(-120%); transition:transform .6s ease;
            }
            #hero .cta .btn:hover::before{ transform:translateX(120%) }
        }

        /* Respect reduced motion */
        @media (prefers-reduced-motion:reduce){
            #hero .cta .btn{ transition:none }
            #hero .cta .btn::before{ display:none }
        }

        /* Mobile: keep CTAs side-by-side with equal widths & heights */
        @media (max-width: 768px) {
            #hero .cta { flex-direction: row; flex-wrap: nowrap; align-items: stretch; }
            #hero .cta .btn {
                flex: 1 1 0; 
                min-width: 0; 
                display: inline-flex; 
                align-items: center; 
                justify-content: center; 
                text-align: center; 
                white-space: nowrap; /* avoid wrapping to two lines */
            }
        }
        @media (max-width: 420px) {
            #hero .cta .btn { padding: 10px 12px; font-size: 13.5px; }
        }

        /* top scrim to improve legibility of headings over video */
        #hero::before{
            content:""; position:absolute; inset:0 0 55% 0; pointer-events:none;
            background:linear-gradient(to bottom, rgba(0,0,0,.28), rgba(0,0,0,0));
            z-index: 5;
        }

        /* subtle text sharpening (no visible stroke) */
        #hero h1, #hero .sub{
            text-shadow: 0 2px 10px rgba(0,0,0,.35), 0 0 1px rgba(255,255,255,.25);
        }

        @keyframes pulse-once{
            0%{ transform:translateY(0) scale(1); box-shadow:0 6px 18px rgba(0,0,0,.18) }
            50%{ transform:translateY(-2px) scale(1.03); box-shadow:0 12px 26px rgba(0,0,0,.2) }
            100%{ transform:translateY(0) scale(1); box-shadow:0 6px 18px rgba(0,0,0,.18) }
        }
        #hero .cta .btn.pulse-once{ animation: pulse-once 1.2s ease-out 2.2s 1 both }
        @media (prefers-reduced-motion:reduce){
            #hero .cta .btn.pulse-once{ animation:none }
        }

        /* allow tiny perspective tilt */
        #hero{ transform-style: preserve-3d; }

        .scroll-cue{
            position:absolute; left:50%; bottom:66px; transform:translateX(-50%);
            padding:8px 10px; border-radius:999px; font-size:12px; letter-spacing:.08em;
            background:rgba(255,255,255,.75); color:#333; text-decoration:none;
            backdrop-filter: blur(6px); box-shadow:0 6px 14px rgba(0,0,0,.12);
            z-index: 25;
        }
        @keyframes bob{0%,100%{transform:translate(-50%,0)}50%{transform:translate(-50%,-6px)}}
        @media (hover:hover){ .scroll-cue{ animation:bob 1.8s ease-in-out infinite } }

        /* slight vignette to keep eyes in center, very subtle */
        #hero::after{
            content:""; position:absolute; inset:0; pointer-events:none; z-index:6;
            background:radial-gradient(100% 120% at 50% 40%, rgba(0,0,0,0) 60%, rgba(0,0,0,.15) 100%);
        }

        /* Move scroll cue to the right on mobile so it doesn't overlap CTAs */
        @media (max-width: 768px){
            #hero .scroll-cue{ left:auto; right:16px; transform:none; bottom: calc(env(safe-area-inset-bottom) + 96px); }
        }
        @media (min-width: 769px){
            #hero .scroll-cue{ left:auto; right:24px; transform:none; bottom: 80px; }
        }

        /* Daily Vitrin (Collections) */
        #collections{ background:#ffffff; color:#2b2b2b; padding:56px 20px; }
        #collections .v-head{ text-align:center; margin:0 auto 22px; max-width:720px; }
        #collections h2{ margin:0 0 6px; font-family:'Playfair Display', 'Times New Roman', serif; font-weight:600; letter-spacing:.04em; color:#2b2b2b; }
        #collections .v-sub{ margin:0; opacity:.7; font-size:14px; }
        .v-grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:14px; max-width:1024px; margin:0 auto; }
        @media (min-width: 769px){ .v-grid{ grid-template-columns:repeat(3,1fr); gap:18px; } }
        .v-item{ position:relative; display:block; aspect-ratio:3/4; border-radius:18px; overflow:hidden; background:#eee; box-shadow:0 10px 24px rgba(0,0,0,.08); }
        .v-item img{ width:100%; height:100%; object-fit:cover; display:block; filter:saturate(1.05) contrast(1.02); }
        .v-item::after{ content:""; position:absolute; inset:0; pointer-events:none; background:linear-gradient(to top, rgba(0,0,0,.22), rgba(0,0,0,0) 40%); }
        .v-cap{ position:absolute; left:12px; right:12px; bottom:10px; color:#fff; font-size:12px; letter-spacing:.02em; text-shadow:0 2px 10px rgba(0,0,0,.35); display:flex; justify-content:space-between; align-items:center; }
        .v-price{ background:rgba(255,255,255,.85); color:#333; border-radius:999px; padding:4px 8px; font-weight:600; box-shadow:0 4px 10px rgba(0,0,0,.12); }

        /* Daily Vitrin tweaks: remove captions/prices, make heading gold and attractive */
        #collections .v-cap{ display:none !important; }
        #collections h2{
            color: transparent;
            background: linear-gradient(90deg, var(--gold-400), #ffd86b, var(--gold-400));
            -webkit-background-clip: text; background-clip: text;
            text-shadow: 0 3px 14px rgba(244,208,63,.35), 0 1px 0 rgba(255,255,255,.2);
            letter-spacing: .06em;
            font-size: clamp(1.4rem, 3.6vw, 2rem);
        }

        /* --- Loading beauty kit (tiny & incremental) --- */
        #hero{ position:relative; overflow:hidden; transform-style:preserve-3d }

        /* LQIP image (injected via JS) */
        #hero .lqip{
            position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
            filter: blur(12px) saturate(1.05) brightness(.98); transform:scale(1.02);
            opacity:1; transition: filter .2s ease, opacity .15s ease, transform .2s ease;
            z-index: 3; pointer-events:none;
        }

        /* Foreground video soft fade (uses your existing <video>) */
        #hero video{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
            opacity:0; transition: opacity .2s ease; z-index:4 }

        /* Shimmer skeleton while hero is loading */
        #hero .skeleton{
            position:absolute; inset:0; z-index:5; pointer-events:none;
            background: linear-gradient(90deg, rgba(255,255,255,0) 20%,
                                             rgba(255,255,255,.25) 40%,
                                             rgba(255,255,255,0) 60%);
            transform: translateX(-120%);
            animation: shimmer 1.6s ease-in-out infinite;
        }
        @keyframes shimmer{ to{ transform: translateX(120%) } }
        
        /* Loading indicator */
        #hero .loading-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 6;
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            font-weight: 300;
            letter-spacing: 0.1em;
            text-shadow: 0 2px 8px rgba(0,0,0,0.3);
            opacity: 1;
            transition: opacity 0.5s ease;
        }
        
        #hero.ready .loading-indicator {
            opacity: 0;
        }

        /* Top scrim to sharpen headings over media */
        #hero::before{
            content:""; position:absolute; inset:0 0 55% 0; z-index:2; pointer-events:none;
            background: linear-gradient(to bottom, rgba(0,0,0,.28), rgba(0,0,0,0));
        }

        /* When ready: fade in media, fade out lqip & skeleton */
        #hero.ready .lqip{ filter:blur(0); transform:none; opacity:0 }
        #hero.ready video{ opacity:1 }
        #hero.ready .skeleton{ display:none }
        
        /* Prevent quality flicker during video loading */
        #hero video {
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
        }
        
        #hero video.loaded {
            opacity: 1;
        }
        
        /* Show loading state initially */
        #hero:not(.ready) .skeleton {
            display: block;
        }

        /* Respect reduced motion */
        @media (prefers-reduced-motion:reduce){
            #hero .lqip, #hero video{ transition:none }
            #hero .skeleton{ display:none }
        }

        /* Below-the-fold performance (no layout shift) */
        #collections{ content-visibility:auto; contain-intrinsic-size: 800px 1200px }

        /* Preserve foreground video framing (override generic video rule) */
        #hero .video-background{
            position:absolute; top:0; left:0; width:100%; height:100%;
            object-fit:cover; z-index:1;
            filter: blur(0.5px) brightness(1.15) contrast(1.1) saturate(1.15);
            transform: scale(1.005);
        }
        #hero .video-foreground{
            position:absolute; top:50%; left:50%; transform:translate(-50%, -50%);
            width:85%; height:85%; object-fit:cover; border-radius:16px; z-index:2;
            filter: brightness(1.1) contrast(1.1) saturate(1.15);
        }
        @media (max-width: 768px){
            #hero .video-foreground{ width:85%; height:85%; border-radius:16px; }
        }
    </style>
</head>
<body>
    <main class="hero-section">
        <section class="hero-container" id="hero">
            <!-- Logo -->
            <img src="./logo.svg" alt="BLUSH logo" class="logo fade-in">
            
            <!-- Background Video (Blurred) -->
            <video class="video-background" autoplay muted loop playsinline preload="metadata">
                <source src="./IMG_1600_high_quality.mov" type="video/quicktime">
                <source src="./IMG_1600 (2).mp4" type="video/mp4">
            </video>
            
            <!-- Foreground Video (Original) -->
            <video class="video-foreground" autoplay muted loop playsinline preload="auto" fetchpriority="high">
                <source src="./IMG_1600_high_quality.mov" type="video/quicktime">
                <source src="./IMG_1600 (2).mp4" type="video/mp4">
            </video>
            
            <!-- Bloom Effect -->
            <div class="bloom-overlay"></div>
            
            <!-- Video Glow Effect -->
            <div class="video-glow"></div>
            
            <!-- Loading Indicator -->
            <div class="loading-indicator">Loading...</div>
            
            <!-- Centered Text Overlay -->
            <div class="text-overlay fade-in">
                <h1>BLUSH — A LUXURIOUS FLORAL EXPERIENCE</h1>
                <div class="subtitle">Minimal & luxurious daily arrangements • Everlasting collections</div>
            </div>

            <!-- Content (CTA) -->
            <div class="content">
                <div class="cta fade-in">
                    <a class="btn" href="https://wa.me/989900190067" rel="noopener">Chat on WhatsApp</a>
                    <a class="btn secondary" href="https://blush-flower.com/" rel="noopener">View Collections</a>
                </div>
            </div>
        </section>
    </main>

    <!-- Daily Vitrin / Collections -->
    <section id="collections">
        <div class="v-head">
            <h2>Daily Vitrin</h2>
            <p class="v-sub">منتخب امروز از گل‌آرایی‌های مینیمال و لوکس</p>
        </div>
        <div class="v-grid">
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/vitrine_09_05_2025_1.webp" alt="دسته گل لوکس در کیسه سفید">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/vitrine_09_05_2025_2.webp" alt="آرایش گل شیک در ویترین شیشه‌ای">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/vitrine_09_05_2025_3.webp" alt="دسته گل رنگارنگ در گلدان مدرن">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/vitrine_09_05_2025_4.webp" alt="باکت گل رنگارنگ در ظرف آبی">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/vitrine_09_05_2025_5.webp" alt="نمایش هنری گل در جعبه شش‌ضلعی">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/vitrine_09_05_2025_6.webp" alt="دسته گل رمانتیک صورتی و بنفش">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/vitrine_09_05_2025_7.webp" alt="باکت گل لوکس بنفش با روبان">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/vitrine_09_05_2025_8.webp" alt="دسته گل آفتابگردان در جعبه سبز">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/vitrine_09_05_2025_9.webp" alt="آرایش ارکیده سفید شیک">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/vitrine_09_05_2025_10.webp" alt="آرایش گل طلایی لوکس">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/vitrine_09_05_2025_11.webp" alt="دسته گل زیبا در گلدان سفید">
            </a>
            <a class="v-item" href="https://blush-flower.com/" rel="noopener">
                <img loading="lazy" src="src/assets/vitrine/vitrine_09_05_2025_12.webp" alt="دسته گل شاد زرد و سفید">
            </a>
        </div>
    </section>

    <script>
        // Smooth fade-in animations with IntersectionObserver
        document.addEventListener('DOMContentLoaded', function() {
            const io = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.fade-in').forEach(element => {
                io.observe(element);
                // Fallback: make visible after 1 second if not triggered
                setTimeout(() => {
                    if (!element.classList.contains('visible')) {
                        element.classList.add('visible');
                    }
                }, 1000);
            });
        });

        // Video loading optimization
        document.addEventListener('DOMContentLoaded', function() {
            const videos = document.querySelectorAll('video');
            videos.forEach((video, index) => {
                video.addEventListener('loadstart', () => {
                    console.log(`Video ${index + 1} started loading`);
                });
                
                video.addEventListener('canplay', () => {
                    console.log(`Video ${index + 1} can play`);
                });
                
                video.addEventListener('error', (e) => {
                    console.error(`Video ${index + 1} error:`, e);
                    console.log(`Video ${index + 1} failed to load, trying fallback`);
                });
            });
        });

        // WhatsApp integration
        function openWhatsApp() {
            const phoneNumber = '989900190067';
            const message = 'Hello! I would like to know more about your floral arrangements';
            const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        }
    </script>

    <script>
    (() => {
      const hero = document.getElementById('hero');
      if (!hero) return;

      // Add a subtle skeleton shimmer
      const sk = document.createElement('div');
      sk.className = 'skeleton';
      hero.appendChild(sk);

      // Inject LQIP blurred image (keeps LCP beautiful & fast)
      const lq = document.createElement('img');
      lq.src = 'hero-lq.webp';
      lq.alt = '';
      lq.decoding = 'async';
      lq.loading = 'eager';          // above-the-fold
      lq.className = 'lqip';
      lq.setAttribute('aria-hidden','true');
      hero.appendChild(lq);

      // Prepare gentle cross-fade to video if available
      const saveData = navigator.connection && navigator.connection.saveData;
      const reduce   = matchMedia('(prefers-reduced-motion: reduce)').matches;
      const vid      = hero.querySelector('video');

      // Preload full hero image, then sharpen & fade LQIP out
      const full = new Image();
      full.src = 'hero.webp';
      full.decoding = 'async';
      full.onload = () => {
        // swap LQIP -> sharp image, then remove it
        lq.src = full.src;
        requestAnimationFrame(() => {
          hero.classList.add('ready');
          setTimeout(() => { lq.remove(); sk.remove(); }, 180);
        });
      };

      // If video exists and user isn't saving data / reducing motion, fade it in when ready
      if (vid && !saveData && !reduce) {
        let videoLoaded = false;
        
        const handleVideoReady = () => {
          if (!videoLoaded) {
            videoLoaded = true;
            vid.classList.add('loaded');
            hero.classList.add('ready');
            setTimeout(() => { 
              try { lq.remove(); sk.remove(); } catch(e){} 
            }, 300);
          }
        };
        
        vid.addEventListener('canplaythrough', handleVideoReady, { once: true });
        vid.addEventListener('loadeddata', handleVideoReady, { once: true });
        
        // Fallback: show video after 2 seconds even if not fully loaded
        setTimeout(() => {
          if (!videoLoaded) {
            handleVideoReady();
          }
        }, 2000);

        // Try to sync background and foreground videos if both exist
        const bg = hero.querySelector('.video-background');
        const fg = hero.querySelector('.video-foreground');
        if (bg && fg) {
          const sync = () => {
            if (Math.abs(bg.currentTime - fg.currentTime) > 0.2) {
              const t = Math.min(bg.duration || fg.duration || 0, Math.max(0, bg.currentTime));
              try { fg.currentTime = t; } catch(e){}
            }
            if (bg.paused && !fg.paused) { try { fg.pause(); } catch(e){} }
            if (!bg.paused && fg.paused) { try { fg.play().catch(()=>{}); } catch(e){} }
          };
          bg.addEventListener('timeupdate', sync);
          fg.addEventListener('timeupdate', sync);
          bg.addEventListener('play', sync);
          fg.addEventListener('play', sync);
        }
      }
    })();
    </script>

    <script>
    // add a one-time pulse to the primary CTA (first .btn that is not .secondary)
    (() => {
        const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (prefersReduced) return;
        const primary = document.querySelector('#hero .cta .btn:not(.secondary)');
        if (primary) primary.classList.add('pulse-once');
    })();

    // micro tilt for desktop pointer, very subtle
    (() => {
        const ok = matchMedia('(pointer:fine)').matches && matchMedia('(prefers-reduced-motion: no-preference)').matches;
        if (!ok) return;
        const el = document.getElementById('hero');
        if (!el) return;
        const max = 6; // degrees
        const onMove = (e) => {
            const r = el.getBoundingClientRect();
            const cx = r.left + r.width/2, cy = r.top + r.height/2;
            const dx = (e.clientX - cx) / (r.width/2);
            const dy = (e.clientY - cy) / (r.height/2);
            el.style.transform = `perspective(900px) rotateX(${(-dy*max).toFixed(2)}deg) rotateY(${(dx*max).toFixed(2)}deg)`;
        };
        const reset = ()=>{ el.style.transform = 'none'; };
        el.addEventListener('mousemove', onMove);
        el.addEventListener('mouseleave', reset);
    })();

    // inject scroll cue link if not already present
    (() => {
        if (document.querySelector('#hero .scroll-cue')) return;
        const cue = document.createElement('a');
        cue.href = '#collections';
        cue.className = 'scroll-cue';
        cue.setAttribute('aria-label','Scroll to collections');
        cue.textContent = 'Scroll ↓';
        const hero = document.getElementById('hero');
        if (hero) hero.appendChild(cue);
    })();

    // upgrade wa.me link with a friendly prefilled message
    (() => {
        const link = document.querySelector('#hero .cta a[href*="wa.me"]');
        if (!link) return;
        const msg = encodeURIComponent("Hi! I'm interested in your floral collections. Could you help me choose?");
        const m = link.href.match(/https?:\/\/wa\.me\/(\d+)/);
        if (m) link.href = `https://wa.me/${m[1]}?text=${msg}`;
    })();
    </script>
</body>
</html>